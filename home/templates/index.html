<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Multiple file Upload</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://unpkg.com/file-upload-with-preview@4.1.0/dist/file-upload-with-preview.min.js"></script>
  <!-- Browser -->
                <link
                    rel="stylesheet"
                    type="text/css"
                    href="https://unpkg.com/file-upload-with-preview@4.1.0/dist/file-upload-with-preview.min.css"
                /> 
  </head>
  <body>
<div class="container mt-3">
    <a href="/image" class="btn btn-info mt-4">All photo</a>
<center><h3>Upload files</h3></center>
<form method="POST" id="myUniqueUploadId" enctype="multipart/form-data">
{% csrf_token %}
<div class="input-group mb-3 ">
  <div class="input-group-prepend">
    <span class="input-group-text" id="basic-addon1">Album Name : </span>
  </div>
  <input type="text" class="form-control" name="Album" 
  placeholder="Type Album Name" aria-label="Username" aria-describedby="basic-addon1">
</div>

<div class="row mt-2">
    <div class="form-group col-md-8">
        <label>Add Description</label>
        <input type="text" required class="form-control" name="description" placeholder="Type Description"/>
    </div>

<div class="form-group col-md-4">
    <button type="button" onclick="AddTag()" class="btn btn-success mt-4">Add</button>
</div>
</div>

<div class="row" id="des_row"></div>


<div class="custom-file-container" data-upload-id="myUniqueUploadId">
    <label
        >Upload File
        <a
            href="javascript:void(0)"
            class="custom-file-container__image-clear"
            title="Clear Image"
            >&times;</a
        ></label
    >
    <label class="custom-file-container__custom-file">
        <input
            type="file"
            class="custom-file-container__custom-file__custom-file-input"
            name="image_name"
            accept="*"
            multiple
            aria-label="Choose File"
        />
        <input type="hidden" name="MAX_FILE_SIZE" value="10485760" />
        <span
            class="custom-file-container__custom-file__custom-file-control"
        ></span>
    </label>
    <div class="custom-file-container__image-preview"></div>
</div>
<button type="submit" class="btn btn-primary">Submit</button>
</form>

<div>

   
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>


  <script>
    var upload = new FileUploadWithPreview("myUniqueUploadId");
    var current = 1;
    function AddTag(){
        
        var element = document.getElementById('des_row')
        var html = `<div class="row mt-2 ml-2" id="curren${current}">
    <div class="form-group col-md-8"
        <label>Add Description</label>
        <input type="text" required class="form-control" name="description" placeholder="Type Description"/>
    </div>
        <div class="form-group col-md-4 ">
            <button type="button" onclick="RemoveTag(${current})" class="btn btn-danger mt-4">Remove</button>
        </div>
        </div>`

        element.innerHTML += html
        current += 1
    }

    function RemoveTag(id){
        var div = document.getElementById("curren"+id.toString())
        div.remove()
    }

</script>

</html>